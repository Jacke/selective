%% For double-blind review submission, w/o CCS and ACM Reference (max submission space)
% \documentclass[acmsmall,review,anonymous]{acmart}\settopmatter{printfolios=true,printccs=false,printacmref=false}
\documentclass[acmsmall,review]{acmart}\settopmatter{printfolios=true,printccs=false,printacmref=false}
%% For double-blind review submission, w/ CCS and ACM Reference
%\documentclass[acmsmall,review,anonymous]{acmart}\settopmatter{printfolios=true}
%% For single-blind review submission, w/o CCS and ACM Reference (max submission space)
%\documentclass[acmsmall,review]{acmart}\settopmatter{printfolios=true,printccs=false,printacmref=false}
%% For single-blind review submission, w/ CCS and ACM Reference
%\documentclass[acmsmall,review]{acmart}\settopmatter{printfolios=true}
%% For final camera-ready submission, w/ required CCS and ACM Reference
%\documentclass[acmsmall]{acmart}\settopmatter{}


%% Journal information
%% Supplied to authors by publisher for camera-ready submission;
%% use defaults for review submission.
\acmJournal{PACMPL}
\acmVolume{1}
\acmNumber{NNN} % CONF = POPL or ICFP or OOPSLA
\acmArticle{1}
\acmYear{2019}
\acmMonth{1}
\acmDOI{} % \acmDOI{10.1145/nnnnnnn.nnnnnnn}
\startPage{1}

%% Copyright information
%% Supplied to authors (based on authors' rights management selection;
%% see authors.acm.org) by publisher for camera-ready submission;
%% use 'none' for review submission.
\setcopyright{none}
%\setcopyright{acmcopyright}
%\setcopyright{acmlicensed}
%\setcopyright{rightsretained}
%\copyrightyear{2018}           %% If different from \acmYear

\bibliographystyle{ACM-Reference-Format}
\citestyle{acmauthoryear}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Note: Authors migrating a paper from PACMPL format to traditional
%% SIGPLAN proceedings format must update the '\documentclass' and
%% topmatter commands above; see 'acmart-sigplanproc-template.tex'.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% Some recommended packages.
\usepackage{booktabs}   %% For formal tables:
                        %% http://ctan.org/pkg/booktabs
\usepackage{subcaption} %% For complex figures with subfigures/subcaptions
                        %% http://ctan.org/pkg/subcaption


\usepackage{bookmark}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
% \usepackage{lmodern}
\usepackage{xspace}
\usepackage{fancyhdr}

% Haskell code snippets and useful shortcuts
\usepackage{minted}
\setminted[haskell]{escapeinside=@@}
\newcommand{\hs}{\mintinline{haskell}}
\newcommand{\cmd}[1]{\textsf{\color[rgb]{0,0,0.5} #1}}
\newcommand{\teq}{\smaller $\sim$}
\newcommand{\ghci}{$\lambda$>}
\newcommand{\defeq}{\stackrel{\text{def}}{=}}
\newcommand{\dollar}{{\color[rgb]{0.40,0.40,0.40} \$}}
\newcommand{\std}[1]{{\color[rgb]{0,0.3,0} #1}}
\newcommand{\blk}[1]{{\color[rgb]{0,0,0} #1}}
\newcommand{\blu}[1]{{\color[rgb]{0,0,1.0} #1}}

% Questions and tasks
\newcommand{\q}[2]{\textbf{\color{blue} Question #1:} #2}
\newcommand{\todo}[2]{[\textbf{\color{red} #1:} #2]}

% Abbreviations for projects
\newcommand{\Dune}{\textsc{Dune}\xspace}
\newcommand{\Haxl}{\textsc{Haxl}\xspace}

\begin{document}

%% Title information
\title{Selective Applicative Functors}
% \titlenote{with title note}
\subtitle{Declare Your Effects Statically, Select Which to Execute Dynamically}

\author{Andrey Mokhov}
\affiliation{
%   \department{School of Engineering}
  \institution{Newcastle University}
%   \city{Newcastle upon Tyne}
  \country{United Kingdom}
}
\email{andrey.mokhov@ncl.ac.uk}
\author{Georgy Lukyanov}
\affiliation{
%   \department{School of Engineering}
  \institution{Newcastle University}
%   \city{Newcastle upon Tyne}
  \country{United Kingdom}
}
\email{g.lukyanov2@ncl.ac.uk}
\author{Simon Marlow}
\affiliation{
  \institution{Facebook}
  \city{London}
  \country{United Kingdom}
}
\email{smarlow@fb.com}
\author{Jeremie Dimino}
\affiliation{
  \institution{Jane Street}
  \city{London}
  \country{United Kingdom}
}
\email{jdimino@janestreet.com}

\fancypagestyle{firstpagestyle}
{
   \fancyhf{}
   \renewcommand{\headrulewidth}{0.2pt}
   \fancyhead[C]{Under review, feedback is sought}
}

\begin{abstract}
Applicative functors and monads have conquered the world of functional
programming by providing general and powerful ways of describing effectful
computations using pure functions. Applicative functors provide a way to compose
\emph{independent effects} that cannot depend on values produced by earlier
computations, and all of which are declared statically. Monads extend the
applicative interface by making it possible to compose \emph{dependent effects},
where the value computed by one effect determines all subsequent effects,
dynamically.

This paper introduces an intermediate abstraction called \emph{selective
applicative functors} that requires all effects to be declared statically, but
provides a way to select which of the effects to execute dynamically. We
demonstrate applications of the new abstraction on several examples, including
two real-life case studies.
\end{abstract}

%% 2012 ACM Computing Classification System (CSS) concepts
%% Generate at 'http://dl.acm.org/ccs/ccs.cfm'.
\begin{CCSXML}
<ccs2012>
<concept>
<concept_id>10011007.10011006.10011008</concept_id>
<concept_desc>Software and its engineering~General programming languages</concept_desc>
<concept_significance>500</concept_significance>
</concept>
</ccs2012>
\end{CCSXML}

\ccsdesc[500]{Software and its engineering~General programming languages}

% \keywords{applicative functors, monads, effects}

\maketitle
\thispagestyle{firstpagestyle}

\input{1-intro}
\input{2-selective}
\input{3-static}
\input{4-haxl}
\input{5-free}
\input{6-alternatives}
\input{7-related}
\input{8-conclusions}

\begin{acks}
  %% Commands \grantsponsor{<sponsorID>}{<name>}{<url>} and
  %% \grantnum[<url>]{<sponsorID>}{<number>} should be used to
  %% acknowledge financial support and will be used by metadata
  %% extraction tools.
  \vspace{-0.5mm}
  We are very grateful to everyone who contributed by participating in numerous
  discussions and providing feedback on earlier drafts: Arseniy Alekseyev,
  Baldur Bl{\"o}ndal, Ulan Degenbaev, Dominique Devriese, G\'abor Lehel,
  Neil Mitchell, Daniel Peebles, Artem Pelenitsyn, Simon Peyton Jones,
  Ivan Polyakov, Asad Saeeduddin, and reddit users \cmd{Darwin226}, \cmd{dmwit}
  and \cmd{yakrar}.

  Andrey Mokhov's research is supported by a Royal Society Industry Fellowship
  \cmd{IF160117} on the topic ``Towards Cloud Build Systems with Dynamic
  Dependency Graphs''.
  \vspace{-1.5mm}
\end{acks}

\bibliography{refs}

%% Appendix
% \appendix
% \section{Appendix}

\end{document}
